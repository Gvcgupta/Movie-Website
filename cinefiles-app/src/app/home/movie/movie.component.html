<link href="E:/Projects/MoviePro API/cinefiles-app/src/assets/css/fontawesome.css" rel="stylesheet">
<link href="E:/Projects/MoviePro API/cinefiles-app/src/assets/css/brands.css" rel="stylesheet">
<link href="E:/Projects/MoviePro API/cinefiles-app/src/assets/css/solid.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />


<div class="bg-gray-800 text-white min-h-screen">
    <div class="flex">
        <div >
            <img src="{{movieData.poster}}" alt="" class="h-96 max-w-lg p-3 mt-2">
            <div class="mt-0 flex justify-around">
                <div *ngIf="this.home.userData.movies_liked.includes(movieData._id) else elseBlock">
                    <i class="fa-solid fa-heart text-4xl hover:cursor-pointer"  #likeButton (click)="like()"></i>
                </div>
                <ng-template #elseBlock>
                    <i class="fa-regular fa-heart text-4xl hover:cursor-pointer likeButton" #likeButton (click)="like()"></i>                    
                </ng-template>
                <div *ngIf="this.home.userData.watchlist.includes(movieData._id) else elseBlock2">
                    <i class="fa-solid fa-clock text-4xl hover:cursor-pointer" #watchlistButton (click)="changeWatchlist()"></i>
                </div>
                <ng-template #elseBlock2>
                    <i class="fa-regular fa-clock text-4xl hover:cursor-pointer" #watchlistButton (click)="changeWatchlist()"></i> 
                </ng-template>
                   
                <i class="fa-solid fa-share-nodes text-4xl hover:cursor-pointer"></i>
            </div>
            
        </div>
        <div class="p-3">
            <p class="font-bold text-2xl p-1 ">{{movieData.name}} <span class="text-sm font-medium italic ">{{movieData.release.substring(0,4)}}</span></p>
            <hr class=" p-2">
            <div class="flex justify-between">
                <div>
                    <p class="font-bold text-lg p-1">Director <span class=" font-normal text-lg pl-3">{{movieData.directors}}</span> </p>
                    <p class="font-bold text-lg p-1">Writer <span class=" font-normal pl-3 text-lg">{{movieData.writers}}</span> </p> 
                    <p class="font-bold text-lg p-1">Cast <span class=" font-normal pl-3 text-lg">{{movieData.cast}}</span> </p>
                    <p class="font-bold text-lg p-1">Language <span class=" font-normal pl-3 text-lg">{{movieData.language}}</span> </p>     
                    <p class="font-bold text-lg p-1">Type <span class=" font-normal pl-3 text-lg">{{movieData.type.charAt(0).toUpperCase() + movieData.type.slice(1)}}</span> </p> 
                    <div *ngIf="this.movieData.type=='series'">
                        <p class="font-bold text-xl p-1">Seasons <span class=" font-normal pl-3 text-lg">{{movieData.seasons}}</span> </p>
                    </div>
                    <p class="font-bold text-lg p-1">Genres <span class=" font-normal pl-3 text-lg">{{movieData.genres}}</span> </p> 
                </div>
                <div class="mr-40 text-3xl font-bold ">
                    <div class="underline underline-offset-4 decoration-3">Rating</div>
                    <div *ngIf="this.movieData.avgRating==null else elseBlock3">
                        <div class="text-center">N/A</div>
                    </div>
                    <ng-template #elseBlock3>
                        <div class="text-center">{{movieData.avgRating}}/10</div>
                    </ng-template>
                    
                </div>
            </div>
            <p class="font-bold text-lg p-1">Plot </p>
            <p class="text-lg p-1 " id="plot">{{movieData.description}}</p>
            <br>

            <div class="border-4 border-black w-fit p-3">
                <p class="text-center text-lg">Rate the movie</p>

                <ngb-rating class="text-5xl"></ngb-rating>
                

            </div>
            <br>
            <div class="font-bold text-lg p-1">Reviews</div>
                <div *ngFor="let review of this.reviews">
                    <div class="border border-white border-radius:1rem">
                        <div class="p-2">reviewed by </div>
                        <div class="flex">
                            <div class="p-3">{{review.review}}</div>
                            <div class="flex">
                                <div><i class="fa-solid fa-heart text-2xl pt-3 pl-3"></i></div>
                                <div class="pt-3 text-sm">{{review.likes}}</div>
                            </div>
                            <i class="fa-regular fa-comment text-2xl p-3"></i>
                        </div>
                    </div>
                    
                </div>
        </div>
    </div>
</div>


<!-- <script>
    console.log("hello")
    d=document.getElementsByClassName("flex")
    console.log(d)
    likeButton = document.getElementsByClassName("likeButton");
    console.log(likeButton.innerHTML)
    likeButton.onclick = function(){
        // if(likeButton.classList.contains("fa-regular")){
        //     likeButton.classList.remove("fa-regular");
        //     likeButton.classList.add("fa-solid");
        // }
        // else{
        //     likeButton.classList.remove("fa-solid");
        //     likeButton.classList.add("fa-regular");
        // }

        console.log("clicked")

        if(likeButton.innerHTML=="Like"){
            likeButton.innerHTML="Liked";
        }
        else{
            likeButton.innerHTML="Like";
        }
    }

</script> -->